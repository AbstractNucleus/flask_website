{% extends "layout.html" %}
{% block title %}user-api{% endblock %}
{% block content %}
<div>
    <center><h1>USER & DATABASE API</h1></center>
    <div class="login">
        <center>
            <h2>login</h2>
            <form action="/setcookie" method="POST">
                <p><input type="text" name="login_username" placeholder="username"></p>
                <p><input type="password" name="login_password", placeholder="password"></p>
                <input type="submit" value=">">
            </form>
            {% if login_error %}
                <p style="color:red;">{{ login_error }}</p>
            {% endif %}
        </center>
    </div>
    <div class="register">
        <center>
            <h2>register</h2>
            <form method="POST">
                <p><input type="email" name="register_email" placeholder="email"></p>
                <p><input type="text" name="register_username", placeholder="username"></p>
                <p><input type="password" name="register_password", placeholder="password"></p>
                <input type="submit" value=">">
            </form>
            {% if error %}
                <p style="color: red;">{{ error }}</p>
            {% endif %}
            {% if success %}
                <p style="color: green;">{{ success }}</p>
            {% endif %}
        </center>
    </div>
    <div class="read">
        <center>
            <h2>read data</h2>
            <form method="POST">
                <label>search for user by name or id</label>
                <p><input type="text" name="read_user" placeholder="id or username"><button>></button></p>
            </form>
        </center>
        {% if search %}
            <div class="results">
                {% if search_id %}
                    <p>id: {{ search_id }}</p>
                    <p>username: {{ search_username }}</p>
                    <p>email: {{ search_email }}</p>
                    <p>created at: {{ search_creation }}</p>
                    <p>updated: {{ search_updated }}</p>

                {% else %}
                    <p>error: {{ search }}</p>
                {% endif %}
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}